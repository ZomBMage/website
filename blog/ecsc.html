<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Max</title>

    <!-- Styles -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto&display=swap">
    <link rel="stylesheet" href="website/assets/css/normalize.css">
    <link rel="stylesheet" href="website/assets/css/keyframes.css">
    <link rel="stylesheet" href="website/assets/css/layout.css">
    <link rel="stylesheet" href="website/assets/css/pageTransitions.css">
  </head>
  <body>
    <div id="particles-js">
      <div class="index m-scene" id="main">
        <div class="blog-title scene_element scene_element--fadeinleft">
          <h1>
              CSC F2F Event 2019
          </h1>
          <a>
              CyberSecurity Challenge's infamous Face To Face event.
          </a>
          
        <div class="nav">
                <a class="button" href="/blog.html">Back</a>
          </div>
        </div>
        <div class="blog-content scene_element scene_element--fadein">
          CyberSecurity Challenge hosted their last Face to Face event in 2019. To qualify, participants had to underho two grueling 6 hour challenges, one offensively focused and one foreniscally focused. Performance in these online qualifiers dictated whether or not participants were able to participate in the two-day Face to Face event.<br><br>
          <b>Online Qualifier One</b><br>
          This round was offensively focused. Participants were given access to an online virtual machine, from which a website could be accessed. This website could also, however, be accessed outside of the virtual machine, which I found myself using. A vulnerability in the search functionality of this shop page allowed users to inject their own SQL commands into the search, to modify the results of a legitimate search to include data they otherwise wouldn't be able to read. After a slight bit of adapting and retrying various payloads, I managed to successfully enumerate the users of the site, and even identify the username and password hash of the admin account. However, cracking the hashed password was not the intended challenge, with the login form being vulnerable instead. A simple <code>' OR 1=1#</code> payload bypassed then need for a password, and I now had access to the admin account of the website.<br>
          From here, I had a bit more privilege in regards to the website's content. I could modify, add and remove products, manage users, the typical admin functionality a shop website might need. From here another vulnerability needed to be exploited to obtain access to the system running the server - Remote Code Execution. This was achieved by uploading a reverse shell as the image for a product, evading the filetype filter by renaming the file to <code>shell.php.png</code>. Whenever a user loaded this image, the server would attempt to connect to my machine and give me a remote shell! This worked successfully, giving me access to the first flag - for getting into the user account on the server.<br>
          From here, privilege escalation was necessary to get the second flag located in the <code>/root</code> directory. This was trivial. Apparently the intended method was to exploit a cronjob running as root, however, I used a more interesting method. Rangeforce graciously provided a testing VM to allow users to become more familiar with the system prior to attempting the qualifiers. The credentials it gave you for an account were <code>Student:student</code>. There was also a <code>student</code> account on the Qualifer 1 server. Its password was also <code>student</code>. The account had access to <code>sudo</code>. A simple <code>sudo -i</code> and within minutes I had already raised my privilege to root, netting me the second flag.<br>
          The third and final flag was more of a riddle than a security challenge. The hint given was about someone knocking on a door - and you need to answer them. A quick check of Nginx's logs revealed repeated attempted connections to port 1337 (typical, I know). Setting up a netcat listener on this port yielded the third and final flag, thus fully completing the first qualifier.<br><br>
          <b>Online Qualifier Two</b><br>
          This qualifier was a lot more forensics-based. Users were given a network packet capture to analyse, and a corrupted USB stick attached to the virtual machine to recover files from. The packet capture was quite large, around 800mb in total, and participants were asked a variety of questions, the answers of which were found by searching the packet capture in an analysis tool like Wireshark.<br>
          The corrupted USB device showed an interesting challenge to most participants. Many of my peers had never attempted something like this before! However, I was aware of the tool Testdisk, which is a command-line tool for diagnosing and fixing fauly partition tables, corrupted data etc. This allowed me to recover most of the files from the USB stick trivially for analysis. The task asked for a 10-mark writeup of how the files were extracted, what files were extracted and their hashes, and the next 10 marks were for analysing each file and stating what it was. All of the files were windows malware. This included a copy of WannaCry, as well as a custom made trojan. Thankfully, all the file hashes matched an online database so finding out what these files were was trivial too.
          <br><br>
          <b>The First Day</b><br>
          Through an online messaging platform, I was already in contact with a good proportion of the participants going. This made life much easier when we all turned up at midday on the Thursday for registration. Some people weren't able to recieve their room cards immediately, however I was. Therefore, I went upstairs to my room, dropped off my belongings and went down to the hotel's lobby to meet my fellow participants. The icebreaker event wouldn't start until 5pm, so there was plenty of time for conversation. Prior to the icebreaker starting, someone suggested playing Jackbox in a hotel room - and given that I had found a HDMI cable in my room that someone could use to connect their laptop to the TV, it was decided we would use my hotel room for this. We ended up having around 12 people in my hotel room all playing this game together before the time for the icebreaker was nearly upon us - so we all departed my room to be ready. Once the icebreaker was finally ready, we were all taken to Santander, the hosts of the program this year. They had cleared out an entire floor for us to use over the course of the event! The icebreaker opened with a short talk from the organisers of the event. There were rows of chairs laid out with an aisle in the middle for everyone to sit in while the talk was ongoing, however as we all went to sit down, a rumour circled that we were not allowed to sit on the left hand side, as that was where the staff would sit. Being one of the first to sit down, I was a little skeptical, but sure enough, everyone followed suit. Not a single seat on the left hand side was filled. While we were waiting for the talk to start, sweets and drinks were provided at a small table in the back. Supplies quickly ran out once people caught wind of this - and I was lucky to snag a bag of sweets and a bottle of coke to keep my blood sugar high after dealing with all the excitement prior to departing for the event. The talk began, and very soon after, the presenter asked why we were all sat on the right hand side, before beginning the briefing. CSC was going through financial difficulty, and as a result, they were not running their renowned Masterclass this year. This meant that we were all competing for places on Team UK - for the competition to be held in Bucharest, Romania. The stakes were set very high right from the beginning! The briefing covered site rules, what to do in event of a fire, all the boring things, before announcing that we would be having a pop quiz in teams shortly afterwards. The teams for this, however, would not be our teams in the main competition the next day - slightly defeating the point of an icebreaker. The quiz was themed around the NHS and various viruses and exploits such as WannaCry and EternalBlue. This was foreshadowing for the main event the next day  but none of us knew it. The quiz concluded with a physical challenge which involved phoning some phone numbers on the walls of the room, and two returned riddles - which would turn out to hint that there was something hidden under one chair on each table. We did not find this, as we couldn't retrieve the second riddle. Taped to the bottom of this chair was a piece of paper with some a binary grid printed on it. This would reveal the code for the padlocks on the table in the centre - each had a small piece of paper locked to it. Seeing my friend try to decode the lock by sound and being asked to stop, I was encouraged that we weren't doing too badly. However, he swiftly returned and finished the code using the intended method, and retrieved the first of the four pieces of paper from the table. Seeing this, everyone stopped to go and inspect the lock which my friend had dropped - with the code unscrambled. I read the code off the padlock, scrambled the numbers, dropped the padlock and picked up another - claiming the second piece of paper for our team. This was yet another riddle, but held the solution for the final round of the quiz, but the other team had beaten us to it and claimed the points before we could solve the riddle. Quite humorously, they each won a bluetooth keyboard and mouse as a reward for winning the quiz! We had been told during the briefing that if we had brought along our own mice, we were allowed to use them during the main event anyway, so the reward was more entertaining than practical. After the excitement all concluded, we had a debrief by the team and were taken back to the hotel. This process took a while as the taxi company fell short. I was one of the last to get back, and a lot of people had left their belongings in my hotel room, and were eager to get back in! Once I had returned, we played some more Jackbox before people decided to start going their seperate ways. Some went to use the hotel's swimming pool, others went to do their own preparation, and some of us went to the nearby Asda! Upon returning to the hotel at almost midnight, I noticed that some of the staff from the event were sat in the lobby talking to participants, so I went and sat down at an empty space and joined in. Before long though, it was time I needed to go to bed, as we were waking up early the next day!
          <br><br>
          <b>The Main Event</b><br>
          The second and final day of the event hosted the main competition. Nobody had any idea what themes or tasks the challenge had in store for us! I was woken up abruptly at 6:30am on the second day by a couple of my friends wanting to use my room to get some last-minute preparation done - and managed to convince me to get out of bed for fear of it being urgent! After a bit of preparation we left my room for breakfast at the hotel. The food was very good, however I didn't have much of an appetite. Shortly after breakfast we collected our belongings and returned to Santander for the main event. Another day, another briefing, we'll dive straight into the main event. In prior years, CSC's face to face events have been dominantly offensive-based. I believe many participants went into the main event expecting this. However, once we were guided through the scenario we'd be facing, it was clear this was a solely defensive effort. We had access to 5 computer systems, each with various vulnerabilities and weaknesses - a nation's health service under attack. From denial of service attacks to site hijacking and a backdoor in a critical API, there were many things to fix while we were under constant bombardment from the Rangeforce team running the event. Various issues resurfaced, and had to be swiftly re-corrected before the uptime statistics dropped, costing valuable points. Points were also available for various challenges throughout the event, including but not limited to extracting an encryption key from a piece of malware. There were also some technical writeups demanded about the details of the attack, points would be awarded accordingly. My team ended up placing near the bottom, but the whole event was a very challenging, thought-provoking and fun experience. Unfortunately, I didn't win a place on Team UK, but a few of my new friends did! For the last ever Face to Face event CSC will be running in the near future, this had been a fantastic challenge to be a part of and participate in. I'm extremely grateful to CSC and Rangeforce for providing this program this year, and allowing me to be a part of it! After all the prizes were distributed, and the places on Team UK announced, it was time to leave, setting off home for a few hours in the car.
        </div>
      </div>
    </div>

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-2.2.1.min.js"></script>
    <script src="/assets/js/jquery.smoothState.min.js"></script>
    <script type="text/javascript" src="/assets/js/particles.js"></script>
    <script type="text/javascript" src="/assets/js/main.js"></script>
  </body>
</html>
